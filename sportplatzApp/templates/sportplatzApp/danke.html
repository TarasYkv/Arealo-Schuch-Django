<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Projekt Konfiguration</title>
    {% extends 'base.html' %}
</head>
<body>

{% block content %}
    <h1>Projekt erfolgreich konfiguriert!</h1>
    <p class="lead">
        Hier ist die Zusammenfassung für Ihr Projekt
        <strong>"{{ projekt.projekt_name }}"</strong>.
        Diese Informationen wurden auch an <strong>{{ projekt.ansprechpartner_email }}</strong> gesendet.
    </p>

    <h3 class="mt-5">Empfohlene Variante</h3>

    <table class="table table-bordered table-striped">
        <tr>
            <th style="width: 30%;">Variante</th>
            <td>{{ projekt.ausgewaehlte_variante.name }}</td>
        </tr>
        <tr>
            <th>Beschreibung</th>
            <td>{{ projekt.ausgewaehlte_variante.beschreibung }}</td>
        </tr>
        <tr>
            <th colspan="2" style="text-align: center; background-color: #e9ecef;">Komponenten & Preise</th>
        </tr>

        <tr>
            <th>Leuchtentyp</th>
            <td>{{ projekt.ausgewaehlte_variante.leuchte.name }} (Anzahl: {{ projekt.ausgewaehlte_variante.anzahl_leuchten }})</td>
        </tr>
        {% if projekt.ausgewaehlte_variante.preis_leuchten %}
        <tr>
            <th>Preis Leuchten</th>
            <td>{{ projekt.ausgewaehlte_variante.preis_leuchten }} €</td>
        </tr>
        {% endif %}

        <tr>
            <th>Traversentyp</th>
            <td>{{ projekt.ausgewaehlte_variante.traverse.name }} (Anzahl: {{ projekt.ausgewaehlte_variante.anzahl_traversen }})</td>
        </tr>
        {% if projekt.ausgewaehlte_variante.preis_traversen %}
        <tr>
            <th>Preis Traversen</th>
            <td>{{ projekt.ausgewaehlte_variante.preis_traversen }} €</td>
        </tr>
        {% endif %}

        {% if projekt.ausgewaehlte_variante.externes_evg %}
        <tr>
            <th>Externes EVG</th>
            <td>{{ projekt.ausgewaehlte_variante.externes_evg.name }} (Anzahl: {{ projekt.ausgewaehlte_variante.anzahl_externe_evgs }})</td>
        </tr>
        {% if projekt.ausgewaehlte_variante.preis_externe_evgs %}
        <tr>
            <th>Preis externe EVGs</th>
            <td>{{ projekt.ausgewaehlte_variante.preis_externe_evgs }} €</td>
        </tr>
        {% endif %}
        {% endif %}

        {% if projekt.ausgewaehlte_variante.verteilerbox %}
        <tr>
            <th>Verteilerbox</th>
            <td>{{ projekt.ausgewaehlte_variante.verteilerbox.name }} (Anzahl: {{ projekt.ausgewaehlte_variante.anzahl_verteilerboxen }})</td>
        </tr>
        {% if projekt.ausgewaehlte_variante.preis_verteilerboxen %}
        <tr>
            <th>Preis Verteilerboxen</th>
            <td>{{ projekt.ausgewaehlte_variante.preis_verteilerboxen }} €</td>
        </tr>
        {% endif %}
        {% endif %}

        {% if projekt.ausgewaehlte_variante.steuerbox %}
        <tr>
            <th>Steuerbox</th>
            <td>{{ projekt.ausgewaehlte_variante.steuerbox.name }} (Anzahl: {{ projekt.ausgewaehlte_variante.anzahl_steuerboxen }})</td>
        </tr>
        {% if projekt.ausgewaehlte_variante.preis_steuerboxen %}
        <tr>
            <th>Preis Steuerboxen</th>
            <td>{{ projekt.ausgewaehlte_variante.preis_steuerboxen }} €</td>
        </tr>
        {% endif %}
        {% endif %}

        {% if projekt.ausgewaehlte_variante.steuerbaustein %}
        <tr>
            <th>Steuerbaustein</th>
            <td>{{ projekt.ausgewaehlte_variante.steuerbaustein.name }} (Anzahl: {{ projekt.ausgewaehlte_variante.anzahl_steuerbausteine }})</td>
        </tr>
        {% if projekt.ausgewaehlte_variante.preis_steuerbausteine %}
        <tr>
            <th>Preis Steuerbausteine</th>
            <td>{{ projekt.ausgewaehlte_variante.preis_steuerbausteine }} €</td>
        </tr>
        {% endif %}
        {% endif %}

        {% if projekt.ausgewaehlte_variante.preis_gesamt %}
        <tr style="font-weight: bold; background-color: #f2f2f2;">
            <th>Preis für die gesamte Variante</th>
            <td>{{ projekt.ausgewaehlte_variante.preis_gesamt }} €</td>
        </tr>
        {% endif %}
    </table>

    <hr class="my-4">
    <a href="{% url 'projekt_anlegen' %}" class="btn btn-secondary">Ein weiteres Projekt anlegen</a>
{% endblock %}