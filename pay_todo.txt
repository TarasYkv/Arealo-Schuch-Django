â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  PAYMENT & STORAGE INTEGRATION - TODO LISTE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“… Erstellt: 2025-10-04
ğŸ¯ Projekt: Stripe Payment Integration fÃ¼r Storage Plans
ğŸŒ Deployment: PythonAnywhere (siehe Abschnitt "PYTHONANYWHERE DEPLOYMENT")

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  ğŸ”´ KRITISCH - Vor Go-Live erledigen
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

[ ] 1. STRIPE DASHBOARD - Products & Prices erstellen
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ Login: https://dashboard.stripe.com
    â†’ Navigation: Products â†’ + Add Product

    Folgende Produkte/Preise erstellen:

    ğŸ“¦ KOSTENLOSER PLAN:
       - Name: "100MB Kostenlos"
       - Preis: 0,00â‚¬
       - Interval: month
       - â†’ Price ID notieren!

    ğŸ’¾ STORAGE PLÃ„NE (jeweils Monthly + Yearly):

       1GB Plan:
       - Name: "1GB Storage Plan"
       - Preis Monthly: 2,99â‚¬/Monat
       - Preis Yearly: 29,90â‚¬/Jahr
       - â†’ Beide Price IDs notieren!
       prod_TBunEYSruZadzC
       price_1SFWy7GDxp57VS6VwVP8wQrT

       3GB Plan:
       - Name: "3GB Storage Plan"
       - Preis Monthly: 4,99â‚¬/Monat
       - Preis Yearly: 49,90â‚¬/Jahr
       - â†’ Beide Price IDs notieren!
       prod_TBuqOhLTDOBDXT
       price_1SFX0rGDxp57VS6VZ8YPz7Yz

       5GB Plan:
       - Name: "5GB Storage Plan"
       - Preis Monthly: 7,99â‚¬/Monat
       - Preis Yearly: 79,90â‚¬/Jahr
       - â†’ Beide Price IDs notieren!
       prod_TBurg9J5CBYCG9
       price_1SFX1lGDxp57VS6V7izvl53W

       10GB Plan:
       - Name: "10GB Storage Plan"
       - Preis Monthly: 9,99â‚¬/Monat
       - Preis Yearly: 99,90â‚¬/Jahr
       - â†’ Beide Price IDs notieren!
       prod_TBusu8sulXJgwk
       price_1SFX37GDxp57VS6VE0ftgaSj

    ğŸš€ WORKLOOM FOUNDER'S ACCESS:
       âš ï¸  HINWEIS: WorkLoom ist wÃ¤hrend Early Access KOSTENLOS!

       â†’ KEINE Stripe Products/Prices fÃ¼r WorkLoom erstellen
       â†’ Wird automatisch nach Registrierung aktiviert
       â†’ Kein Zahlungsmittel erforderlich

       (SpÃ¤ter bei kostenpflichtiger Phase kÃ¶nnen Products erstellt werden)


[ ] 2. PRICE IDs IN CODE EINTRAGEN
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ Datei: payments/management/commands/setup_storage_plans.py
    â†’ Suche nach "price_XXX" Platzhaltern
    â†’ Trage echte Stripe Price IDs ein
    â†’ Command ausfÃ¼hren:
      python manage.py setup_storage_plans


[ ] 3. STRIPE WEBHOOK EINRICHTEN
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    âš ï¸  LOKAL vs. PYTHONANYWHERE - Unterschiedliche URLs!

    LOKAL (fÃ¼r Entwicklung):
    â†’ URL: http://localhost:8000/payments/webhook/stripe/
    â†’ Mit Stripe CLI testen: stripe listen --forward-to localhost:8000/payments/webhook/stripe/

    PYTHONANYWHERE (fÃ¼r Production):
    â†’ URL: https://USERNAME.pythonanywhere.com/payments/webhook/stripe/
    â†’ Siehe Abschnitt "B. STRIPE WEBHOOK URL" oben!

    Webhook Konfiguration in Stripe:
    â†’ Stripe Dashboard â†’ Developers â†’ Webhooks
    â†’ "Add endpoint" klicken
    â†’ URL eingeben (siehe oben)
    â†’ Events auswÃ¤hlen:
      âœ“ customer.subscription.created
      âœ“ customer.subscription.updated
      âœ“ customer.subscription.deleted
      âœ“ invoice.paid
      âœ“ invoice.payment_failed
      âœ“ checkout.session.completed
    â†’ Webhook Signing Secret kopieren
    â†’ In .env eintragen: STRIPE_WEBHOOK_SECRET=whsec_...


[ ] 4. LIVE STRIPE KEYS KONFIGURIEREN
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    âš ï¸  WICHTIG: Aktuell sind TEST-Keys aktiv!

    â†’ Stripe Dashboard â†’ Developers â†’ API keys
    â†’ "Live mode" Toggle aktivieren
    â†’ Publishable key kopieren â†’ .env: STRIPE_PUBLISHABLE_KEY=pk_live_...
    â†’ Secret key kopieren â†’ .env: STRIPE_SECRET_KEY=sk_live_...

    âš ï¸  SICHERHEIT:
       - Niemals Secret Keys in Git committen!
       - .env ist in .gitignore
       - Keys regelmÃ¤ÃŸig rotieren


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  ğŸŒ PYTHONANYWHERE DEPLOYMENT - Besondere Hinweise
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âš ï¸  WICHTIG: Diese App lÃ¤uft aktuell LOKAL und wird auf PythonAnywhere deployed!
Bei PythonAnywhere gibt es einige Besonderheiten zu beachten:


[ ] A. PYTHONANYWHERE SETUP - Vor Stripe Konfiguration
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    1. Code auf PythonAnywhere hochladen:
       â†’ Via Git: git clone https://github.com/... (empfohlen)
       â†’ Oder Upload Ã¼ber Files Tab

    2. Virtual Environment erstellen:
       â†’ cd ~/PROJEKTNAME
       â†’ python3.10 -m venv venv
       â†’ source venv/bin/activate
       â†’ pip install -r requirements.txt

    3. Database Setup (MySQL/PostgreSQL empfohlen):
       âš ï¸  SQLite hat Performance-Limitierungen bei PythonAnywhere!

       â†’ Databases Tab â†’ MySQL â†’ Create Database
       â†’ Database Name notieren (z.B. USERNAME$dbname)
       â†’ settings.py anpassen:
         DATABASES = {
             'default': {
                 'ENGINE': 'django.db.backends.mysql',
                 'NAME': 'USERNAME$dbname',
                 'USER': 'USERNAME',
                 'PASSWORD': 'YOUR_MYSQL_PASSWORD',
                 'HOST': 'USERNAME.mysql.pythonanywhere-services.com',
             }
         }
       â†’ pip install mysqlclient
       â†’ python manage.py migrate

    4. Static Files konfigurieren:
       â†’ python manage.py collectstatic
       â†’ Web Tab â†’ Static files section:
         URL: /static/
         Directory: /home/USERNAME/PROJEKTNAME/staticfiles/

    5. Environment Variables (.env):
       âš ï¸  KRITISCH: .env File NICHT in Git committen!

       Option 1 - Via .env File (empfohlen):
       â†’ .env im Projekt-Root erstellen
       â†’ In WSGI Config File laden (siehe unten)

       Option 2 - Via Environment Variables:
       â†’ Web Tab â†’ Environment Variables (nur Paid Accounts)
       â†’ Oder in WSGI Config File hardcoden (NICHT empfohlen!)

    6. WSGI Configuration File anpassen:
       â†’ Web Tab â†’ WSGI configuration file
       â†’ Folgendes HINZUFÃœGEN (am Anfang der Datei):

       ```python
       import os
       import sys
       from pathlib import Path
       from dotenv import load_dotenv

       # Projekt-Pfad
       project_home = '/home/USERNAME/PROJEKTNAME'
       if project_home not in sys.path:
           sys.path.insert(0, project_home)

       # .env File laden
       env_path = Path(project_home) / '.env'
       load_dotenv(dotenv_path=env_path)

       # Django Settings
       os.environ['DJANGO_SETTINGS_MODULE'] = 'Schuch.settings'
       ```

    7. Reload Web App:
       â†’ Web Tab â†’ Reload Button (GRÃœN)
       â†’ Nach JEDER Code-Ã„nderung erforderlich!


[ ] B. STRIPE WEBHOOK URL - PythonAnywhere Domain
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    âš ï¸  WICHTIG: Webhook URL muss auf PythonAnywhere zeigen!

    â†’ Deine PythonAnywhere Domain: https://USERNAME.pythonanywhere.com
    â†’ Webhook URL: https://USERNAME.pythonanywhere.com/payments/webhook/stripe/

    â†’ Stripe Dashboard â†’ Developers â†’ Webhooks
    â†’ "Add endpoint" klicken
    â†’ URL eingeben: https://USERNAME.pythonanywhere.com/payments/webhook/stripe/
    â†’ Events auswÃ¤hlen (siehe unten bei Punkt 3)

    âœ… HTTPS ist AUTOMATISCH verfÃ¼gbar fÃ¼r *.pythonanywhere.com Domains!
       (Stripe erfordert HTTPS fÃ¼r Webhooks - bei PythonAnywhere kostenlos!)


[ ] C. STRIPE KEYS IN .env AUF PYTHONANYWHERE
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ SSH/Console Tab â†’ Bash console Ã¶ffnen
    â†’ nano ~/PROJEKTNAME/.env
    â†’ Folgendes eintragen:

    ```
    STRIPE_PUBLISHABLE_KEY=pk_live_...
    STRIPE_SECRET_KEY=sk_live_...
    STRIPE_WEBHOOK_SECRET=whsec_...
    ```

    â†’ Speichern: Strg+O, Enter, Strg+X
    â†’ Web App Reload!


[ ] D. CRON JOBS - PythonAnywhere Schedule Tab
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    âš ï¸  Cron Jobs nur in PAID Accounts verfÃ¼gbar!

    â†’ Schedule Tab â†’ Create a new scheduled task
    â†’ Uhrzeit: 09:00
    â†’ Command:
      /home/USERNAME/PROJEKTNAME/venv/bin/python /home/USERNAME/PROJEKTNAME/manage.py check_storage_quotas

    Alternative fÃ¼r FREE Accounts:
    â†’ Manuell tÃ¤glich ausfÃ¼hren
    â†’ Oder Celery Beat verwenden (komplexer)


[ ] E. TESTING AUF PYTHONANYWHERE
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    âš ï¸  Stripe CLI funktioniert NICHT mit PythonAnywhere!
       â†’ Nur LIVE Webhooks testen mÃ¶glich
       â†’ Teste zuerst im TEST Mode mit echten Stripe Test Events

    1. Test Mode testen:
       â†’ Stripe Dashboard im Test Mode
       â†’ Test Cards verwenden (4242 4242 4242 4242)
       â†’ https://USERNAME.pythonanywhere.com/payments/plans/ aufrufen
       â†’ Checkout durchfÃ¼hren

    2. Webhook Events prÃ¼fen:
       â†’ Stripe Dashboard â†’ Events
       â†’ Bei Fehlern: Response Body anzeigen
       â†’ PythonAnywhere: Error log prÃ¼fen (Web Tab â†’ Log files)

    3. Live Mode aktivieren (nach erfolgreichem Test):
       â†’ .env auf Live Keys umstellen
       â†’ Web App Reload
       â†’ Webhook Endpoint in Stripe auf Live umstellen


[ ] F. LOGS & DEBUGGING AUF PYTHONANYWHERE
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ Web Tab â†’ Log files:
      - Error log: Django Fehler & Exceptions
      - Server log: HTTP Requests & Responses
      - Access log: Alle HTTP Zugriffe

    â†’ Bei Webhook-Problemen:
      1. Error log checken
      2. Stripe Dashboard â†’ Events â†’ Failed events
      3. Response Body analysieren

    â†’ Django Shell fÃ¼r Debugging:
      $ cd ~/PROJEKTNAME
      $ source venv/bin/activate
      $ python manage.py shell


[ ] G. WICHTIGE PYTHONANYWHERE LIMITS
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    FREE Account:
    - 1 Web App
    - SQLite Database (langsamer)
    - Keine Cron Jobs
    - CPU: 100 Sekunden/Tag
    - Keine Custom Domain

    PAID Account ($5/Monat):
    - Cron Jobs
    - MySQL Database
    - Mehr CPU
    - Custom Domain mÃ¶glich

    âš ï¸  FÃ¼r Production: Paid Account empfohlen!


[ ] H. DEPLOYMENT CHECKLIST
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    âœ“ Code auf PythonAnywhere hochgeladen
    âœ“ Virtual Environment erstellt & Dependencies installiert
    âœ“ Database konfiguriert (MySQL empfohlen)
    âœ“ python manage.py migrate ausgefÃ¼hrt
    âœ“ python manage.py collectstatic ausgefÃ¼hrt
    âœ“ .env File erstellt mit Stripe Keys
    âœ“ WSGI Config angepasst (dotenv laden)
    âœ“ Static Files Mapping konfiguriert
    âœ“ Web App Reload durchgefÃ¼hrt
    âœ“ Website erreichbar unter https://USERNAME.pythonanywhere.com
    âœ“ Stripe Webhook auf PythonAnywhere URL zeigt
    âœ“ Test-Checkout erfolgreich
    âœ“ Webhook Events werden empfangen
    âœ“ Cron Job fÃ¼r Storage Quota Check (falls Paid Account)


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  ğŸŸ¡ WICHTIG - Automatisierung einrichten
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

[ ] 5. CRON JOB FÃœR STORAGE QUOTA CHECKS
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    TÃ¤glich um 9:00 Uhr Speicher-Quotas prÃ¼fen und Benachrichtigungen senden

    âš ï¸  LOKAL vs. PYTHONANYWHERE - Unterschiedliche Methoden!

    LOKAL (fÃ¼r Entwicklung/Testing):
    â†’ Crontab bearbeiten: crontab -e
    â†’ Zeile hinzufÃ¼gen:
      0 9 * * * cd /pfad/zum/projekt && /pfad/zum/venv/bin/python manage.py check_storage_quotas

    PYTHONANYWHERE (fÃ¼r Production):
    â†’ Siehe Abschnitt "D. CRON JOBS" oben!
    â†’ âš ï¸  Nur in PAID Accounts verfÃ¼gbar ($5/Monat)
    â†’ Schedule Tab verwenden statt crontab
    â†’ Komplette Pfade angeben: /home/USERNAME/PROJEKTNAME/venv/bin/python ...


[ ] 6. EMAIL TEMPLATES TESTEN
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ Test-Command ausfÃ¼hren:
      python manage.py test_email_templates

    â†’ PrÃ¼fen ob E-Mails ankommen fÃ¼r:
      âœ“ Storage Quota 75% Warning
      âœ“ Storage Quota 90% Warning
      âœ“ Storage Quota 100% Exceeded


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  ğŸŸ¢ OPTIONAL - Verbesserungen & Testing
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

[ ] 7. END-TO-END TESTING
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    âœ“ Checkout Flow testen (mit Stripe Test Cards)
    âœ“ Subscription Upgrade testen
    âœ“ Subscription Downgrade testen
    âœ“ Subscription Cancellation testen
    âœ“ Webhook Events verifizieren
    âœ“ Storage Tracking testen (Upload/Delete)
    âœ“ Quota Warnings testen


[ ] 8. MONITORING & ANALYTICS
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ Stripe Dashboard regelmÃ¤ÃŸig checken
    â†’ Storage Logs im Admin prÃ¼fen: /admin/core/storagelog/
    â†’ User Storage Dashboard: /admin/videos/userstorage/
    â†’ Webhook Events: /admin/payments/webhookevent/


[ ] 9. DOKUMENTATION
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ User-Dokumentation schreiben:
      - Wie funktionieren die Speicher-PlÃ¤ne?
      - Was passiert bei Quota-Ãœberschreitung?
      - Wie kann man upgraden/downgraden?

    â†’ Admin-Dokumentation:
      - Wie werden Subscriptions verwaltet?
      - Troubleshooting Guide
      - FAQ fÃ¼r hÃ¤ufige Probleme


[ ] 10. STRIPE TEST CARDS (fÃ¼r Testing)
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    Erfolgreiche Zahlung:
    - Karte: 4242 4242 4242 4242
    - Ablauf: Beliebig (Zukunft)
    - CVC: Beliebig
    - PLZ: Beliebig

    3D Secure (Authentication):
    - Karte: 4000 0027 6000 3184

    Fehlgeschlagen:
    - Karte: 4000 0000 0000 0002

    Mehr: https://stripe.com/docs/testing


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  ğŸ“‹ VERFÃœGBARE MANAGEMENT COMMANDS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ python manage.py upgrade_free_storage
  â†’ Upgraded alle 50MB Free Users auf 100MB (bereits ausgefÃ¼hrt!)

âœ“ python manage.py setup_storage_plans
  â†’ Erstellt alle Subscription Plans in Datenbank

âœ“ python manage.py check_storage_quotas [--dry-run]
  â†’ PrÃ¼ft Speicher-Quotas und sendet Benachrichtigungen

âœ“ python manage.py setup_free_plans [--fix-all]
  â†’ Erstellt UserStorage fÃ¼r User ohne Storage


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  ğŸ”— WICHTIGE URLS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Frontend (User):
  /payments/plans/           â†’ Subscription Plans Ãœbersicht
  /accounts/profil/          â†’ User Profil mit Storage Info
  /videos/storage/           â†’ Storage Management
  /accounts/abo/video/       â†’ Video Subscription Management

Admin:
  /admin/payments/subscription/     â†’ Subscriptions verwalten
  /admin/core/storagelog/           â†’ Storage Logs
  /admin/videos/userstorage/        â†’ User Storage Ãœbersicht
  /admin/payments/webhookevent/     â†’ Webhook Events

Stripe:
  https://dashboard.stripe.com      â†’ Stripe Dashboard


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  âš ï¸  WICHTIGE HINWEISE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. SICHERHEIT:
   - Stripe Secret Keys niemals in Code committen
   - Webhook Signature immer verifizieren (bereits implementiert)
   - SSL/HTTPS in Production zwingend erforderlich

2. TESTING:
   - Immer zuerst im Test Mode testen
   - Stripe Test Cards verwenden
   - Webhooks mit Stripe CLI testen: stripe listen --forward-to localhost:8000/payments/webhook/stripe/

3. MONITORING:
   - Webhook Events im Admin regelmÃ¤ÃŸig prÃ¼fen
   - Failed Webhooks behandeln
   - Storage Logs auf Anomalien prÃ¼fen

4. SUPPORT:
   - Bei Problemen: Stripe Dashboard â†’ Events â†’ Filter by failed
   - Logs prÃ¼fen: tail -f logs/django.log
   - Error Tracking einrichten (z.B. Sentry)


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  âœ… BEREITS ERLEDIGT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Storage Service implementiert (core/storage_service.py)
âœ“ StorageLog Model erstellt
âœ“ Storage Notifications implementiert
âœ“ Webhook Integration fÃ¼r Subscription Sync
âœ“ Admin Interface mit Statistiken
âœ“ Signal-basiertes Tracking fÃ¼r Fileshare
âœ“ View-basiertes Tracking fÃ¼r Streamrec
âœ“ Subscription Plans Template erstellt
âœ“ Dashboard Integration (Superconfig)
âœ“ Email Templates (HTML + Text)
âœ“ Management Commands
âœ“ 50MB â†’ 100MB Migration durchgefÃ¼hrt
âœ“ Template-Tag-Fehler behoben
âœ“ Sie â†’ Du Form geÃ¤ndert
âœ“ Preise korrigiert (2,99â‚¬, 4,99â‚¬, 7,99â‚¬, 9,99â‚¬)
âœ“ 14 User auf 100MB upgraded


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  ğŸ“ SUPPORT & RESSOURCEN
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Stripe Docs:
  https://stripe.com/docs
  https://stripe.com/docs/payments/checkout
  https://stripe.com/docs/billing/subscriptions/webhooks

Django Stripe Integration:
  https://testdriven.io/blog/django-stripe-tutorial/

PythonAnywhere:
  https://help.pythonanywhere.com/
  https://help.pythonanywhere.com/pages/DeployExistingDjangoProject/
  https://help.pythonanywhere.com/pages/ScheduledTasks/

Bei Fragen:
  - Stripe Support: https://support.stripe.com
  - Django Docs: https://docs.djangoproject.com
  - PythonAnywhere Forums: https://www.pythonanywhere.com/forums/


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Letzte Aktualisierung: 2025-10-04
Status: ğŸŸ¡ Bereit fÃ¼r Stripe Dashboard Setup & PythonAnywhere Deployment

Ã„nderungen:
- âœ… PythonAnywhere-spezifische Deployment-Hinweise hinzugefÃ¼gt
- âœ… WSGI Configuration, Static Files, MySQL Setup dokumentiert
- âœ… Cron Jobs fÃ¼r Paid vs. Free Accounts
- âœ… Webhook URLs fÃ¼r lokale & PythonAnywhere Umgebung
- âœ… Logging & Debugging Guide

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
