{% extends "clawboard/base_dark.html" %}

{% block title %}Projekte - Clawboard{% endblock %}

{% block cb_page %}
<div class="cb-page-header">
    <div>
        <div class="cb-breadcrumb">
            <a href="{% url 'clawboard:dashboard' %}">Clawboard</a>
            <span class="separator">/</span>
            <span class="current">Projekte</span>
        </div>
        <h1 class="cb-page-title"><i class="bi bi-folder me-2"></i>Projekte</h1>
    </div>
    <a href="{% url 'clawboard:project_add' %}" class="cb-btn cb-btn-primary">
        <i class="bi bi-plus-lg me-1"></i>Neues Projekt
    </a>
</div>

{% if projects %}
    <div class="cb-grid">
        {% for project in projects %}
            <div class="cb-card">
                <div class="cb-card-header">
                    <h6>{{ project.icon|default:"" }} {{ project.name }}</h6>
                    <span class="cb-badge cb-badge-{% if project.status == 'active' %}green{% elif project.status == 'archived' %}gray{% else %}blue{% endif %}">
                        {{ project.get_status_display|default:"Unbekannt" }}
                    </span>
                </div>
                <div class="cb-card-body">
                    {% if project.description %}
                        <p style="color: #a6adc8; font-size: 0.82rem; margin-bottom: 12px;">{{ project.description|truncatechars:120 }}</p>
                    {% endif %}
                    <a href="{% url 'clawboard:project_detail' project.pk %}" class="cb-btn cb-btn-outline cb-btn-sm">
                        Details
                    </a>
                </div>
            </div>
        {% endfor %}
    </div>
{% else %}
    <div class="cb-empty-state">
        <i class="bi bi-folder display-1"></i>
        <h4>Keine Projekte</h4>
        <p>Erstelle dein erstes Projekt oder verbinde den Connector.</p>
        <a href="{% url 'clawboard:project_add' %}" class="cb-btn cb-btn-primary">
            <i class="bi bi-plus-lg me-2"></i>Projekt erstellen
        </a>
    </div>
{% endif %}
{% endblock %}
