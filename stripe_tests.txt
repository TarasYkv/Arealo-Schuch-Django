â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  STRIPE INTEGRATION - VOLLSTÃ„NDIGE TEST-CHECKLISTE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“… Erstellt: 2025-10-04
ğŸ¯ Projekt: Stripe Payment Integration fÃ¼r Storage Plans & WorkLoom
ğŸ”§ Umgebung: Sowohl TEST-Modus als auch LIVE-Modus testen

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  ğŸ“‹ VORBEREITUNG - Vor dem Testen
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

[ ] 1. TEST-MODUS AKTIVIEREN
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ In .env: STRIPE_SECRET_KEY und STRIPE_PUBLISHABLE_KEY auf Test Keys setzen
    â†’ Stripe Dashboard: Toggle auf "Test mode" stellen
    â†’ Webhook-Endpoint fÃ¼r Test-Umgebung konfiguriert
    â†’ Server lÃ¤uft: python manage.py runserver


[ ] 2. DATENBANK VORBEREITEN
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ python manage.py makemigrations
    â†’ python manage.py migrate
    â†’ python manage.py setup_storage_plans --update
    â†’ python manage.py setup_workloom_plans
    â†’ PrÃ¼fen: /admin/payments/subscriptionplan/ - alle PlÃ¤ne vorhanden?


[ ] 3. TEST-BENUTZER ANLEGEN
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ 3-5 Test-User im Django Admin erstellen
    â†’ Verschiedene Email-Adressen verwenden
    â†’ PasswÃ¶rter notieren fÃ¼r Login-Tests


[ ] 4. STRIPE WEBHOOK EINRICHTEN (lokal testen)
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ Stripe CLI installieren: https://stripe.com/docs/stripe-cli
    â†’ Login: stripe login
    â†’ Webhook forwarding starten:
      stripe listen --forward-to http://localhost:8000/payments/webhook/stripe/
    â†’ Webhook Secret aus Output notieren
    â†’ In .env eintragen: STRIPE_WEBHOOK_SECRET=whsec_...


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  âœ… TEIL 1: WORKLOOM FOUNDER'S ACCESS (KOSTENLOS)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

[ ] 1.1 AUTOMATISCHE AKTIVIERUNG BEI REGISTRIERUNG
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ Neuen User registrieren: /accounts/register/
    â†’ Nach Registrierung: /admin/payments/subscription/ Ã¶ffnen
    â†’ âœ“ PrÃ¼fen: Subscription fÃ¼r WorkLoom Founder's Access existiert
    â†’ âœ“ Status: active
    â†’ âœ“ Plan.price: 0.00â‚¬
    â†’ âœ“ stripe_subscription_id: NULL (weil kostenlos)
    â†’ âœ“ stripe_customer_id: NULL (weil kostenlos)


[ ] 1.2 MANUELLES AKTIVIEREN FÃœR BESTEHENDE USER
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ python manage.py activate_founder_access
    â†’ Output prÃ¼fen: Sollte "15 users activated" o.Ã¤. zeigen
    â†’ /admin/payments/subscription/ prÃ¼fen
    â†’ âœ“ Alle bestehenden User haben WorkLoom Access


[ ] 1.3 PLANS-SEITE KORREKT ANZEIGEN
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ URL Ã¶ffnen: /payments/plans/
    â†’ âœ“ WorkLoom Section: NUR EINE CARD (nicht zwei)
    â†’ âœ“ Text: "Kostenlos" (nicht "KOSTENLOS")
    â†’ âœ“ Badge: "statt 24,99â‚¬" (nicht "statt 19,99â‚¬")
    â†’ âœ“ KEIN Text: "3 Tage kostenlos testen"
    â†’ âœ“ Button: "Jetzt kostenlos aktivieren"
    â†’ âœ“ Wenn bereits aktiviert: Button "Aktueller Plan" (disabled)


[ ] 1.4 KOSTENLOSE AKTIVIERUNG ÃœBER BUTTON
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ Mit User einloggen, der KEIN WorkLoom hat
    â†’ /payments/plans/ Ã¶ffnen
    â†’ "Jetzt kostenlos aktivieren" klicken
    â†’ âœ“ KEIN Stripe Checkout Redirect
    â†’ âœ“ Success-Message: "WorkLoom... erfolgreich aktiviert"
    â†’ âœ“ Button Ã¤ndert sich zu "Aktueller Plan"
    â†’ âœ“ /admin/payments/subscription/ - Subscription erstellt


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  âœ… TEIL 2: STORAGE PLANS - CHECKOUT FLOW
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

[ ] 2.1 1GB PLAN - MONATLICH
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ /payments/plans/ Ã¶ffnen
    â†’ "1GB Plan (Monatlich)" - "Upgrade" Button klicken
    â†’ âœ“ Redirect zu Stripe Checkout Page
    â†’ âœ“ Preis korrekt: 2,99â‚¬/month
    â†’ âœ“ Product Name: "1GB Plan (Monatlich)"
    â†’ Test-Kreditkarte eingeben: 4242 4242 4242 4242
    â†’ Ablaufdatum: 12/34, CVC: 123, PLZ: 12345
    â†’ âœ“ Zahlung erfolgreich
    â†’ âœ“ Redirect zurÃ¼ck zu /payments/plans/?success=true
    â†’ âœ“ Success-Message angezeigt
    â†’ âœ“ /admin/payments/subscription/ - Subscription erstellt
    â†’ âœ“ stripe_subscription_id ausgefÃ¼llt
    â†’ âœ“ stripe_customer_id ausgefÃ¼llt
    â†’ âœ“ status: active
    â†’ âœ“ /admin/videos/userstorage/ - storage_limit_mb auf 1024 gesetzt


[ ] 2.2 3GB PLAN - MONATLICH
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ Gleicher Test wie 2.1, aber mit 3GB Plan
    â†’ âœ“ Preis: 4,99â‚¬/month
    â†’ âœ“ storage_limit_mb: 3072 (3GB)


[ ] 2.3 5GB PLAN - MONATLICH
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ Gleicher Test wie 2.1, aber mit 5GB Plan
    â†’ âœ“ Preis: 7,99â‚¬/month
    â†’ âœ“ storage_limit_mb: 5120 (5GB)


[ ] 2.4 10GB PLAN - MONATLICH
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ Gleicher Test wie 2.1, aber mit 10GB Plan
    â†’ âœ“ Preis: 9,99â‚¬/month
    â†’ âœ“ storage_limit_mb: 10240 (10GB)


[ ] 2.5 1GB PLAN - JÃ„HRLICH
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ /payments/plans/ Ã¶ffnen
    â†’ "1GB Plan (JÃ¤hrlich)" - "Upgrade" Button
    â†’ âœ“ Preis: 29,90â‚¬/year
    â†’ âœ“ Intervall: year (im Stripe Checkout)
    â†’ âœ“ Subscription wird korrekt erstellt


[ ] 2.6 KOSTENLOSER PLAN IMMER AKTIV
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ /payments/plans/ Ã¶ffnen
    â†’ "Kostenlos (100MB)" Card ansehen
    â†’ âœ“ Button: "Immer aktiv (Kostenlos)" (disabled)
    â†’ âœ“ Info-Text: "Automatisch fÃ¼r alle Nutzer verfÃ¼gbar"
    â†’ âœ“ Kein Upgrade-Button fÃ¼r diesen Plan


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  âœ… TEIL 3: STORAGE TRACKING & QUOTA ENFORCEMENT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

[ ] 3.1 STORAGE ANZEIGE AUF /payments/plans/
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ User mit verschiedenen Storage Limits testen
    â†’ âœ“ Fortschrittsbalken zeigt korrekten Prozentsatz
    â†’ âœ“ "X MB verwendet" korrekt
    â†’ âœ“ "Y MB verfÃ¼gbar" korrekt
    â†’ âœ“ Farbe: GrÃ¼n (<75%), Orange (75-90%), Rot (>90%)


[ ] 3.2 FILE UPLOAD - UNTER QUOTA
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ User mit 100MB Free Plan einloggen
    â†’ /videos/ oder /fileshare/ Ã¶ffnen
    â†’ Datei hochladen (z.B. 10MB)
    â†’ âœ“ Upload erfolgreich
    â†’ âœ“ /admin/core/storagelog/ - Log-Eintrag erstellt
    â†’ âœ“ Aktion: "upload"
    â†’ âœ“ GrÃ¶ÃŸe korrekt gespeichert


[ ] 3.3 FILE UPLOAD - QUOTA ÃœBERSCHRITTEN
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ User mit 100MB Free Plan
    â†’ Bereits 95MB verwendet
    â†’ Versuche 10MB Datei hochzuladen (wÃ¼rde 105MB ergeben)
    â†’ âœ“ Upload wird ABGELEHNT
    â†’ âœ“ Error-Message: "Speicher-Limit Ã¼berschritten"
    â†’ âœ“ Hinweis: "Upgrade fÃ¼r mehr Speicher"
    â†’ âœ“ Datei wurde NICHT gespeichert


[ ] 3.4 FILE DELETE - SPEICHER FREIGEBEN
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ Datei lÃ¶schen
    â†’ âœ“ /admin/core/storagelog/ - Log "delete" erstellt
    â†’ âœ“ UserStorage.used_storage reduziert
    â†’ âœ“ Fortschrittsbalken aktualisiert


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  âœ… TEIL 4: SUBSCRIPTION MANAGEMENT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

[ ] 4.1 UPGRADE VON 1GB ZU 3GB
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ User hat 1GB Plan aktiv
    â†’ /payments/plans/ Ã¶ffnen
    â†’ "3GB Plan" - "Wechseln" Button klicken
    â†’ âœ“ Stripe Checkout Ã¶ffnet sich
    â†’ âœ“ Zahlung abschlieÃŸen
    â†’ âœ“ Alte Subscription wird gekÃ¼ndigt (cancel_at_period_end)
    â†’ âœ“ Neue Subscription wird erstellt
    â†’ âœ“ storage_limit_mb auf 3072 gesetzt


[ ] 4.2 DOWNGRADE VON 5GB ZU 1GB
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ User hat 5GB Plan aktiv
    â†’ /payments/plans/ - "1GB Plan" wÃ¤hlen
    â†’ âœ“ Checkout Flow funktioniert
    â†’ âœ“ Nach Wechsel: storage_limit_mb auf 1024
    â†’ âš ï¸ PrÃ¼fen: Was passiert wenn user mehr als 1GB verwendet?
      â†’ Sollte Warnung anzeigen


[ ] 4.3 SUBSCRIPTION KÃœNDIGEN
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ User mit aktivem Storage Plan
    â†’ /payments/plans/ Ã¶ffnen
    â†’ "KÃ¼ndigen" Button klicken
    â†’ âœ“ Modal Ã¶ffnet sich mit Warnung
    â†’ âœ“ Checkbox: "Ja, ich mÃ¶chte kÃ¼ndigen"
    â†’ âœ“ Checkbox muss aktiviert werden
    â†’ âœ“ "Abonnement kÃ¼ndigen" Button klicken
    â†’ âœ“ /admin/payments/subscription/ - cancel_at_period_end: True
    â†’ âœ“ Plan bleibt bis current_period_end aktiv
    â†’ âœ“ Nach Ablauf: status Ã¤ndert zu "canceled"
    â†’ âœ“ UserStorage fÃ¤llt zurÃ¼ck auf 100MB


[ ] 4.4 STRIPE CUSTOMER PORTAL
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ User mit aktivem Plan
    â†’ /payments/plans/ - "Stripe Portal Ã¶ffnen" Button
    â†’ âœ“ Redirect zu Stripe Customer Portal
    â†’ âœ“ User kann:
      - Zahlungsmethode Ã¤ndern
      - Rechnungen herunterladen
      - Subscription kÃ¼ndigen
    â†’ Ã„nderungen sollten via Webhook zurÃ¼ck synchronisiert werden


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  âœ… TEIL 5: WEBHOOKS - EVENT HANDLING
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

[ ] 5.1 WEBHOOK: customer.subscription.created
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ Subscription via Checkout erstellen
    â†’ âœ“ Webhook Event empfangen
    â†’ âœ“ /admin/payments/webhookevent/ - Event logged
    â†’ âœ“ processed: True
    â†’ âœ“ Subscription in DB erstellt
    â†’ âœ“ UserStorage.storage_limit_mb aktualisiert


[ ] 5.2 WEBHOOK: customer.subscription.updated
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ Im Stripe Dashboard: Subscription manuell Ã¤ndern
      (z.B. Preis Ã¤ndern, Plan wechseln)
    â†’ âœ“ Webhook empfangen
    â†’ âœ“ Event processed
    â†’ âœ“ Subscription in DB aktualisiert


[ ] 5.3 WEBHOOK: customer.subscription.deleted
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ Im Stripe Dashboard: Subscription manuell lÃ¶schen
    â†’ âœ“ Webhook empfangen
    â†’ âœ“ Event processed
    â†’ âœ“ Subscription.status = "canceled"
    â†’ âœ“ UserStorage zurÃ¼ck auf 100MB


[ ] 5.4 WEBHOOK: invoice.paid
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ Monatliche/jÃ¤hrliche Rechnung wird fÃ¤llig
    â†’ âœ“ Webhook empfangen
    â†’ âœ“ Invoice in DB erstellt
    â†’ âœ“ /admin/payments/invoice/ - Rechnung vorhanden
    â†’ âœ“ Status: paid
    â†’ âœ“ amount_paid korrekt


[ ] 5.5 WEBHOOK: invoice.payment_failed
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ Test mit abgelaufener Karte oder declined payment
    â†’ Stripe CLI: stripe trigger invoice.payment_failed
    â†’ âœ“ Webhook empfangen
    â†’ âœ“ Event logged
    â†’ âœ“ Subscription.status = "past_due"
    â†’ âš ï¸ TODO: E-Mail Benachrichtigung an User?


[ ] 5.6 WEBHOOK: checkout.session.completed
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ Checkout Flow abschlieÃŸen
    â†’ âœ“ Webhook empfangen
    â†’ âœ“ Event processed
    â†’ âœ“ Customer & Subscription erstellt


[ ] 5.7 WEBHOOK SIGNATURE VERIFICATION
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ Webhook mit falscher Signature senden
    â†’ âœ“ Request wird ABGELEHNT
    â†’ âœ“ 400 Bad Request
    â†’ âœ“ Error: "Invalid signature"


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  âœ… TEIL 6: EMAIL BENACHRICHTIGUNGEN
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

[ ] 6.1 STORAGE QUOTA 75% WARNING
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ User erreicht 75% seiner Quota
    â†’ python manage.py check_storage_quotas
    â†’ âœ“ E-Mail versendet
    â†’ âœ“ Template: storage_75_warning
    â†’ âœ“ Betreff: "Speicher zu 75% belegt"
    â†’ âœ“ Inhalt: Upgrade-Link enthalten


[ ] 6.2 STORAGE QUOTA 90% WARNING
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ User erreicht 90%
    â†’ python manage.py check_storage_quotas
    â†’ âœ“ E-Mail versendet
    â†’ âœ“ Dringlichkeit hÃ¶her als 75% Mail


[ ] 6.3 STORAGE QUOTA 100% EXCEEDED
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ User Ã¼berschreitet Limit
    â†’ âœ“ E-Mail versendet
    â†’ âœ“ Warnung: Keine weiteren Uploads mÃ¶glich
    â†’ âœ“ Upgrade-Optionen angezeigt


[ ] 6.4 EMAIL TEMPLATES TESTEN
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ python manage.py test_email_templates
    â†’ âœ“ Alle 3 Storage-Benachrichtigungen werden versendet
    â†’ âœ“ HTML-Version korrekt formatiert
    â†’ âœ“ Text-Version lesbar
    â†’ âœ“ Links funktionieren


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  âœ… TEIL 7: EDGE CASES & ERROR HANDLING
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

[ ] 7.1 CHECKOUT ABBRECHEN
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ Checkout starten
    â†’ Auf "ZurÃ¼ck" klicken / Fenster schlieÃŸen
    â†’ âœ“ Keine fehlerhafte Subscription erstellt
    â†’ âœ“ User kann erneut Checkout starten


[ ] 7.2 DOPPELTER CHECKOUT KLICK
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ "Upgrade" Button mehrmals schnell klicken
    â†’ âœ“ Nur EINE Checkout Session erstellt
    â†’ âœ“ Keine Duplikate in Datenbank


[ ] 7.3 ABGELAUFENE KREDITKARTE
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ Test Card: 4000 0000 0000 0341 (declined)
    â†’ Checkout versuchen
    â†’ âœ“ Fehler von Stripe angezeigt
    â†’ âœ“ User kann andere Karte versuchen


[ ] 7.4 3D SECURE AUTHENTICATION
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ Test Card: 4000 0027 6000 3184 (requires 3DS)
    â†’ Checkout durchfÃ¼hren
    â†’ âœ“ 3DS Modal Ã¶ffnet sich
    â†’ âœ“ Nach BestÃ¤tigung: Zahlung erfolgreich


[ ] 7.5 WEBHOOK DELAYED/FAILED
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ Server temporÃ¤r down wÃ¤hrend Checkout
    â†’ âœ“ Stripe retry-Logik
    â†’ âœ“ Webhook wird spÃ¤ter erneut zugestellt
    â†’ âœ“ Idempotenz: Event wird nur einmal verarbeitet


[ ] 7.6 USER OHNE USERSTORAGE
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ User lÃ¶scht UserStorage manuell aus DB
    â†’ /payments/plans/ aufrufen
    â†’ âœ“ KEIN Server-Crash
    â†’ âœ“ Automatisch neuer UserStorage mit 100MB erstellt


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  âœ… TEIL 8: ADMIN INTERFACE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

[ ] 8.1 SUBSCRIPTION ADMIN
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ /admin/payments/subscription/
    â†’ âœ“ Alle Subscriptions sichtbar
    â†’ âœ“ Filter: status, plan_type
    â†’ âœ“ Search: username, email
    â†’ âœ“ Details: stripe_subscription_id, current_period_end


[ ] 8.2 STORAGE LOG ADMIN
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ /admin/core/storagelog/
    â†’ âœ“ Alle Upload/Delete Actions geloggt
    â†’ âœ“ Filter: user, action, app
    â†’ âœ“ Suche nach Dateinamen


[ ] 8.3 USER STORAGE ADMIN
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ /admin/videos/userstorage/
    â†’ âœ“ Ãœbersicht aller User mit Storage
    â†’ âœ“ used_storage / storage_limit_mb
    â†’ âœ“ Prozent-Anzeige
    â†’ âœ“ Admin Actions: "Reset to 100MB", "Upgrade"


[ ] 8.4 WEBHOOK EVENT ADMIN
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ /admin/payments/webhookevent/
    â†’ âœ“ Alle Events geloggt
    â†’ âœ“ processed = True/False
    â†’ âœ“ Fehlerhafte Events hervorgehoben
    â†’ âœ“ JSON Data einsehbar


[ ] 8.5 INVOICE ADMIN
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ /admin/payments/invoice/
    â†’ âœ“ Alle Rechnungen sichtbar
    â†’ âœ“ Status: paid, open, void
    â†’ âœ“ PDF Download-Link funktioniert


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  âœ… TEIL 9: SUPERUSER DASHBOARD
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

[ ] 9.1 STORAGE TAB - ÃœBERSICHT
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ /superconfig/ - "Storage & Subscriptions" Tab
    â†’ âœ“ Statistiken angezeigt:
      - Aktive Benutzer
      - Gesamt-Speicher
      - Premium Benutzer
      - Monatlicher Umsatz


[ ] 9.2 TOP STORAGE USERS
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ âœ“ Liste der User mit hÃ¶chstem Speicherverbrauch
    â†’ âœ“ Sortierung nach used_storage


[ ] 9.3 STORAGE BY APP
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ âœ“ Breakdown: Videos, Fileshare, Streamrec
    â†’ âœ“ Prozent-Anzeige


[ ] 9.4 RECENT STORAGE LOGS
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ âœ“ Letzte 10-20 Storage-AktivitÃ¤ten
    â†’ âœ“ Upload/Delete Actions
    â†’ âœ“ Timestamp


[ ] 9.5 ADMIN QUICK LINKS
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ âœ“ Button: "Subscriptions" â†’ /admin/payments/subscription/
    â†’ âœ“ Button: "Storage Logs" â†’ /admin/core/storagelog/
    â†’ âœ“ Button: "User Storage" â†’ /admin/videos/userstorage/
    â†’ âœ“ Button: "Webhook Events" â†’ /admin/payments/webhookevent/
    â†’ âœ“ Button: "Subscription Plans"
    â†’ âœ“ Button: "Stripe Customers"
    â†’ âœ“ Button: "Invoices"


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  âœ… TEIL 10: PERFORMANCE & SECURITY
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

[ ] 10.1 CHECKOUT SESSION EXPIRATION
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ Checkout Session Ã¶ffnen
    â†’ 24 Stunden warten (oder im Stripe Dashboard manuell ablaufen lassen)
    â†’ âœ“ Session nicht mehr nutzbar
    â†’ âœ“ User kann neue Session starten


[ ] 10.2 CSRF PROTECTION
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ POST Request ohne CSRF Token an /payments/checkout/
    â†’ âœ“ 403 Forbidden


[ ] 10.3 UNAUTHORIZED ACCESS
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ Nicht eingeloggter User versucht /payments/checkout/
    â†’ âœ“ Redirect zu Login
    â†’ âœ“ Nach Login: ZurÃ¼ck zu /payments/plans/


[ ] 10.4 SQL INJECTION SCHUTZ
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ Versuche SQL Injection in Plan ID
    â†’ âœ“ Django ORM schÃ¼tzt automatisch
    â†’ âœ“ Keine unerwarteten DB-Zugriffe


[ ] 10.5 XSS SCHUTZ
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ User mit bÃ¶sartigem Namen (z.B. <script>alert('XSS')</script>)
    â†’ /payments/plans/ Ã¶ffnen
    â†’ âœ“ Name wird escaped angezeigt
    â†’ âœ“ Kein JavaScript ausgefÃ¼hrt


[ ] 10.6 RATE LIMITING
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ Checkout 100x in kurzer Zeit aufrufen
    â†’ âœ“ Nach X Anfragen: Rate Limit
    â†’ âš ï¸ TODO: Rate Limiting implementieren?


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  âœ… TEIL 11: LIVE-MODUS TESTS (NUR MIT ECHTEN KARTEN!)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âš ï¸  WICHTIG: Diese Tests NUR im Live-Modus durchfÃ¼hren!
âš ï¸  Echte Zahlungen werden verarbeitet!

[ ] 11.1 LIVE CHECKOUT MIT ECHTER KARTE
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ .env auf Live Keys umstellen
    â†’ Stripe Dashboard auf "Live mode"
    â†’ Test mit echter Kreditkarte (1â‚¬ Plan empfohlen)
    â†’ âœ“ Zahlung erfolgreich
    â†’ âœ“ Geld erscheint in Stripe Balance
    â†’ âœ“ Subscription korrekt erstellt


[ ] 11.2 LIVE WEBHOOK KONFIGURATION
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ Stripe Dashboard â†’ Webhooks
    â†’ Endpoint: https://DEINE-DOMAIN.de/payments/webhook/stripe/
    â†’ âœ“ Test-Event senden
    â†’ âœ“ Response: 200 OK
    â†’ âœ“ Event in DB gespeichert


[ ] 11.3 ECHTE RECHNUNG DOWNLOAD
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†’ Nach erfolgreicher Zahlung
    â†’ /payments/plans/ - "Rechnungen anzeigen"
    â†’ âœ“ PDF Download funktioniert
    â†’ âœ“ Rechnung korrekt formatiert
    â†’ âœ“ MwSt ausgewiesen (falls aktiviert)


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  ğŸ“Š TEST-STATISTIK & REPORTING
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Nach Abschluss aller Tests ausfÃ¼llen:

Datum Test-DurchfÃ¼hrung: ___________________
Tester: _____________________________________

Ergebnisse:
- Tests bestanden: ____ / 100+
- Tests fehlgeschlagen: ____
- Kritische Fehler: ____
- Kleinere Bugs: ____

Kritische Fehler (falls vorhanden):
1. _______________________________________________
2. _______________________________________________
3. _______________________________________________

Empfohlene Fixes vor Go-Live:
1. _______________________________________________
2. _______________________________________________
3. _______________________________________________


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  ğŸ”§ STRIPE CLI BEFEHLE FÃœR TESTING
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# Webhook Events lokal testen:
stripe listen --forward-to http://localhost:8000/payments/webhook/stripe/

# Spezifische Events triggern:
stripe trigger checkout.session.completed
stripe trigger customer.subscription.created
stripe trigger customer.subscription.updated
stripe trigger customer.subscription.deleted
stripe trigger invoice.paid
stripe trigger invoice.payment_failed

# Logs anzeigen:
stripe logs tail

# Test-Produkte erstellen:
stripe products create --name="Test Storage Plan"
stripe prices create --product=prod_XXX --unit-amount=299 --currency=eur --recurring[interval]=month


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  ğŸ“š NÃœTZLICHE RESSOURCEN
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Stripe Testing:
  https://stripe.com/docs/testing
  https://stripe.com/docs/billing/testing

Webhook Testing:
  https://stripe.com/docs/webhooks/test
  https://stripe.com/docs/cli

Fehlerbehandlung:
  https://stripe.com/docs/error-handling

Django Stripe Best Practices:
  https://testdriven.io/blog/django-stripe-tutorial/


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Letzte Aktualisierung: 2025-10-04
Version: 1.0

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
